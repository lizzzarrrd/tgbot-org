# tgbot-org




**Telegram-бот для управления календарем с использованием искусственного интеллекта (LLM). Бот позволяет пользователям создавать события, отправляя сообщения из чатов, генерировать .ics файлы, а также управлять групповыми календарями и синхронизироваться с внешними сервисами (Google, Yandex и др.).**

## 1. Детальное описание проекта

### 1.1. Что будет видеть пользователь


#### Вход и регистрация:
- Пользователь запускает бота командой /start

- Проходит простую регистрацию (при необходимости авторизации через внешние календари)

#### 2. Добавление события (основной сценарий)
- Пользователь пишет сообщение в свободной форме: *«Записаться к стоматологу 26 ноября в 14:00»*

- LLM обрабатывает запрос, и бот присылает сформированную карточку события для проверки

- Пользователь подтверждает («Да») или просит исправить

#### 3. Выбор места сохранения

- После подтверждения бот предлагает выбор: сохранить в локальный календарь бота, отправить в Google/Yandex и др. календарь или получить файл .ics

#### 4. Напоминания

- В назначенное время (например, за 15 минут или за 1 час до встречи) бот присылает уведомление: _«Напоминание: Встреча с заказчиком через 1 час»_

#### 5. Групповая работа

- Пользователь может создавать группы и добавлять туда других участников

- События можно добавлять в общий календарь группы
---

### 1.2. Какие задачи необходимо выполнить


#### Архитектура и База Данных


- Проектирование схемы БД (пользователи, группы, события)

- Настройка окружения

#### LLM и парсинг

- Разработка системы промптов для извлечения даты, времени и сути события

- Реализация механизма валидации ответов от LLM

- Обработка сценариев редактирования события через чат

#### Интеграция с календарями
- Изучение Google Calendar и Yandex Calendar и др

- Реализация взаимодействий с календарями

- Генерация .ics файлов

#### Telegram Bot

- Верстка меню и клавиатур

- Реализация диалогов

- Логика регистрации и управления группами внутри телеграма

---


## 2. План работ и оценка времени

### Неделя 1: Инициализация  

* Развертывание репозитория, настройка окружения и БД.  
* Базовый каркас бота (команды /start, /help).  
* Настройка LLM для парсинга текста.

**Даты: 20 ноября — 27 ноября**

### Неделя 2: Основная бизнес-логика  

* Реализация диалога создания события  
* Подключение базы данных (сохранение пользователей и черновиков событий)  
* Начало работы над интеграцией с Google/Yandex/др

**Даты: 6 декабря — 13 декабря**

### Неделя 3: Интеграции  

* Полноценная запись событий в Google/Yandex календари  
* Генерация и отправка .ics файлов  
* Реализация групповой логики (создание групп, добавление участников)  
* Back-end: Настройка Scheduler (планировщика задач) для отправки напоминаний  
* Front-end: Реализация логики кнопки «Поделиться» и добавления чужого события к себе

**Даты: 28 ноября — 5 декабря**

### Неделя 4: Отладка и документация

* Обработка граничных случаев (некорректные даты, ошибки)  
* Финальное тестирование всех сценариев \+ написание тестов  
* Написание пользовательской инструкции и оформление репозитория

**Даты: 14 декабря — 20 декабря**

---

## 3. Распределение ролей в команде

**Баткилина Полина (Team Lead & Calendar Integration)**

* **Управление:** Общее руководство, контроль архитектуры, Code Review, ведение задач  
* **Календари:**  
  * Изучение и подключение Google Calendar и Yandex Calendar  
  * Реализация механизма авторизации  
  * Логика синхронизации событий и генерация .ics файлов

**Муцольгов Родион и Прахов Егор (LLM & AI)**

* **Парсинг:** Разработка модуля parser\_service для преобразования естественного языка в структурированные данные (JSON)  
* **Промпт-инжиниринг:** Настройка и тестирование промптов для максимальной точности распознавания дат и времени  
* **Адаптеры:** Реализация llm\_interface для взаимодействия бота с API нейросети

**Тишутин Павел и Косов Егор (Telegram Bot Interface)**

* **UI/UX:** Разработка всех хендлеров, клавиатур и меню бота  
* **Взаимодействие с пользователем:**  
  * Реализация машины состояний для пошагового создания событий  
  * Обработка команд /reg, /info, управления группами  
* **База данных:** Связка интерфейса бота с методами БД (сохранение user\_id)

Ожидаемая архитектура проекта:
![Схема](tgbot-calendar.drawio.svg)

Скорее всего описание будет еще пополняться

